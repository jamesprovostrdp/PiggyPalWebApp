@{
    ViewData["Title"] = "PiggyPal";
}
<h1 class="titleHeading">PiggyPal</h1>


 <ul class="nav nav-tabs" role="tablist">
        <li>
          <button type="button" id="+button" class="btn btn-primary" fdprocessedid="st26cb">+</button>
       </li>
       <li class="nav-item" role="presentation">
         <a class="nav-link active" data-bs-toggle="tab" href="#income" aria-selected="true" role="tab">Income</a>
       </li>
       <li class="nav-item" role="presentation">
         <a class="nav-link" data-bs-toggle="tab" href="#expenses" aria-selected="false" tabindex="-1" role="tab">Expenses</a>
       </li>
       <li class="nav-item" role="presentation">
         <a class="nav-link" data-bs-toggle="tab" href="#savingsGoal" aria-selected="false" tabindex="-1" role="tab">Savings Goal</a>
       </li>
 </ul>

    <div id="myTabContent" class="tab-content">

          <div class="tab-pane fade show active" id="income" role="tabpanel">
              <h5>Income</h5>
                        <div class="col">
                            <fieldset>
                                <label class="form-label mt-4" for="readOnlyInput"></label>
                                <input class="form-control" id="readOnlyInput" type="text" placeholder="Category Name" readonly="" fdprocessedid="az4az">
                            </fieldset>
                        </div>

                    <div  class="row mt-3">
                        <div class="col">
                            <input type="date" class="form-control" id="inputDefault" fdprocessedid="cv9pt">
                        </div>

                        <div class="col input-group">
                            <span class="input-group-text">$</span>
                            <input type="text" class="form-control" fdprocessedid="xee7bi">
                        </div>
                    </div>
            <div class="d-grid gap-2">
              <button class="btn btn-lg btn-primary" type="button" fdprocessedid="9d31kc">Save</button>
            </div>
         </div>

           <div class="tab-pane fade" id="expenses" role="tabpanel">
               <h5>Expenses</h5>
                    <div class="row">
                        <div class="col">
                            <fieldset>
                                <label class="form-label mt-4" for="readOnlyInput"></label>
                                <input class="form-control" id="readOnlyInput" type="text" placeholder="Category Name" readonly="" fdprocessedid="az4az">
                            </fieldset>
                        </div>
                        <div class="col">
                            <fieldset>
                                <label class="form-label mt-4" for="readOnlyInput"></label>
                                <input class="form-control" id="readOnlyInput" type="text" placeholder="Budget Amount" readonly="" fdprocessedid="az4az">
                            </fieldset>
                        </div>
                    </div>

                    <div  class="row mt-3">
                        <div class="col">
                            <input type="date" class="form-control" id="inputDefault" fdprocessedid="cv9pt">
                        </div>

                        <div class="col input-group">
                            <span class="input-group-text">$</span>
                            <input type="text" class="form-control" fdprocessedid="xee7bi">
                        </div>
                    </div>
                            <div class="d-grid gap-2">
                              <button class="btn btn-lg btn-primary" type="button" fdprocessedid="9d31kc">Save</button>
                            </div>
            </div>



                <div class="col">
                    <input type="text" class="form-control" placeholder="Savings Goal Title" id="inputDefault" fdprocessedid="cv9pt">
                </div>

                </div>

                <div class="col">
                    <input type="date" class="form-control" id="inputDefault" fdprocessedid="cv9pt">
                </div>
                <br />
                <div class="d-grid gap-2">
                  <button class="btn btn-lg btn-primary" type="button" fdprocessedid="9d31kc">Save</button>
                </div>
            </div>
    </div>

<br />
<div class="row">
        <div class="chartContainer, col">
            <select class="chartType">
                <option value="Income/Expenses">Income/Expenses</option>
                <option value="Expenses">Expenses</option>
                <option value="Calendar">Calendar</option>
                <option value="Yearly Overview">Yearly Overview</option>
            </select>
        </div>

        <div class="col">
            <input type="date" class="form-control" id="inputDefault" fdprocessedid="cv9pt">
        </div>
</div>

<canvas id="Charts" width="400" height="200"></canvas>


<br />
<h3>Saved</h3>
<div class="row">
        <div class="col">
            <input type="date" class="form-control" id="inputDefault" fdprocessedid="cv9pt">
        </div>
        <div class="input-group mb-3, col">
            <span class="input-group-text">$</span>
            <input type="number" class="form-control" fdprocessedid="xee7bi">
        </div>
</div>
<br />
<div class="progress">
  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%;"></div>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    @{
        ViewData["Title"] = "Main";
    }

<script>
    const records = @Html.Raw(ViewBag.ChartData);

  // const records = [
  //   { Date: "2024-03-01", Description: "Test", RecordAmount: 50 },
  //   { Date: "2024-03-02", Description: "Another", RecordAmount: 100 }
  // ];


    if (records.length === 0) {
          document.getElementById("Charts").insertAdjacentHTML('afterend', '<p>No data to display.</p>');
        } else {
            const labels = records.map(r => r.Date + ' - ' + r.Description);
            const data = records.map(r => r.RecordAmount);

            const ctx = document.getElementById('Charts').getContext('2d');

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Record Amount',
                        data: data,
                        backgroundColor: 'rgba(54, 162, 235, 0.5)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }
    </script>
